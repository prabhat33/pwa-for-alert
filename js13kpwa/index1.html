<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>js13kGames A-Frame entries</title>
	<meta name="description" content="A list of A-Frame entries submitted to the js13kGames 2017 competition, used as an example for the MDN articles about Progressive Web Apps.">
	<meta name="author" content="end3r">
	<meta name="theme-color" content="#B12A34">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:image" content="icons/icon-512.png">
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="style.css">
	<link rel="manifest" href="js13kpwa.webmanifest">
	<script src="data/games.js" defer></script>
	<script src="app.js" defer></script>
</head>
<body>
<header>
	<p><a class="logo" href="http://js13kgames.com"><img src="img/js13kgames.png" alt="js13kGames"></a></p>
</header>
<main>
	<!-- <h1>js13kGames A-Frame entries</h1>
	<p class="description">List of games submitted to the <a href="http://js13kgames.com/aframe">A-Frame category</a> in the <a href="http://2017.js13kgames.com">js13kGames 2017</a> competition. You can <a href="https://github.com/mdn/pwa-examples/blob/master/js13kpwa">fork js13kPWA on GitHub</a> to check its source code.</p>
	<button id="notifications">Request dummy notifications</button>
	<section id="content"></section> -->
</main>
<footer>
	<p>&copy; js13kGames 2012-2018, created and maintained by <a href="http://end3r.com">Andrzej Mazur</a> from <a href="http://enclavegames.com">Enclave Games</a>.</p>
</footer>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
setInterval(function(){
	Notification.requestPermission().then(function(result) {
		if(result === 'granted') {
			checkPrice()
			.then(function(response){
				randomNotification(response);
			})
			
		}
	});
},10000)


function checkBSEPrice(scripcode=500112){
	return new Promise(function(resolve,reject){
		$.get(`https://api.bseindia.com/BseIndiaAPI/api/EQPeerGp/w?scripcode=${scripcode}&scripcomare=`, function(data, status){
		   console.log(data);
			resolve({name:data.Table[0].Name,LTP:data.Table[0].LTP});
         });
	})
}
function checkNSEPrice(symbol){
	return new Promise(function(resolve,reject){
		$.get(`https://www.nseindia.com/api/quote-equity?symbol=${symbol}`, function(data, status){
		   console.log(data);
			resolve({name:data.Table[0].Name,LTP:data.Table[0].LTP});
         });
	})
}
</script>
</html>